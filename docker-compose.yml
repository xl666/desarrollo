version: '3'
services:
  accesspoint:
    build: ./manjaroAP
    network_mode: "host"
    privileged: true
    environment:
      - RESTRICTEDMODE=true
      - IWIRELESS=wlo1
      - IINTERNET=wlp0s20f0u2
      - ESSID=prueba
      - PASS=12345678
      - ALUMNSMACS=${MACS}
      - WHITEURLS=${WHITES}
      - CHANNEL=1
      - IPSERVICEPORT=9031
  monitor:
    build: ./monitorAP
    network_mode: "host"
    environment:
      - DOMINIO_SERVICIO_NOMBRES=192.168.12.1
      - PUERTO_SERVICIO_NOMBRES=9031
      - URL_SERVICIO_NOTIFICACION=http://localhost:8000/guardarMensaje
      - INTERFACE=ap0
      - DOMINIO=192.168.12.0/24
  notificaciones:
    build: ./notificacionesAP
    ports:
      - "8000:8000"
  examenes_practicos:
    build: ./examenesPracticos
    network_mode: "host"
    ports:
      - "8100:8100"
    volumes:
      - ./examenesPracticos/examenesPracticos:/code
    environment:
      - DIRECTORIO_RESPUESTA=examen1
      - TEMPLATE_EXAMEN=${TEMPLATE}
